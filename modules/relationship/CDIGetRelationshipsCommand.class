<?php

class CDIGetRelationshipsCommand extends CDIAbstractDataObjectCommand {
  
  private $relationships = array();
  
  public function __construct() {
    parent::__construct('CDIGetRelationshipsInterface', TRUE);
  }
  
  public function toString() {
    return 'Get Relationships';
  }
  
  public function executeAction(CDIReceiverInterface $receiver) {
    $newRelationships = $receiver->getRelationships($this->getDataObject(), $this);
    $this->relationships = array_merge($this->relationships, $newRelationships);
  }
  
  public function addRelationship(CDIRelationship $rel) {
    $this->relationships[] = $rel;
  }
  
  public function getRelationships() {
    return $this->relationships;
  }
  
}