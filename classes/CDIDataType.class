<?php

class CDIDataType extends CDIAbstractData implements CDIDataTypeInterface {
  
  private $typeName;
  
  public function __construct($typeName) {
    $this->typeName = $typeName;
  }
  
  public function getDataTypeName() {
    return $this->typeName;
  }
  
  public function facade($facadeType) {
    return parent::buildFacade($facadeType, 'CDIDataTypeFacadeInterface', $this);
  }
  
  public function fireCommand(CDIDataTypeCommandInterface $command) {
    $command->setDataType($this);
    parent::fireGenericCommand($command);
  }
  
  public function checkObjectSupport($facadeType) {
    // @todo: do we want a stub object creation?
    $do = new CDIDataObject($this);
    try {
      $facade = $do->facade($facadeType);
      return $facade->checkSupport();
    } catch (CDIException $e) {
      return FALSE;
    }
    return FALSE;
  }
  
}