<?php

abstract class CDIAbstractDataObjectFacade extends CDIAbstractData implements CDIDataObjectFacadeInterface {
  
  private $object = NULL;
  
  public function __construct(CDIDataObjectInterface $dataObject) {
    $this->object = $dataObject;
  }
  
  public function getDataType() {
    return $this->object->getDataType();
  }
  
  public function facade($facadeType) {
    return parent::buildFacade($facadeType, array(
      'CDIDataObjectFacadeInterface',
      'CDIDataTypeFacadeInterface',
    ), $this);
  }
  
  public function getRawValue($key) {
    return $this->object->getRawValue($key);
  }
  
  public function setRawValue($key, $value) {
    $this->object->setRawValue($key, $value);
  }
  
  public function strip() {
    return $this->object;
  }
  
  public function fireCommand(CDITypedCommandInterface $command) {
    $this->object->fireCommand($command);
  }
  
  public function checkSupport() {
    return CDI::getCommandRegistry()->checkCommandSupportForFacade($this, $this->object);
  }
  
}